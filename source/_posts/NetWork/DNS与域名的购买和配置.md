---
title: DNS与域名的购买和配置
date: 2023-08-24 17:58:38
author: Taniz Hugo
language: zh-CN
abbrlink: network1
top: false
is_draft: false
summary: 在自学科学上网搭建节点过程中，了解到得一些有关网络的基本知识，于是就开始了总结起来了
categories: 
  - 网络
tags:
  - DNS
  - 域名
  - 域名购买和配置
  - Linux
  - namesilo
  - Cloudflare
---


在某次面试的过程中，面试官询问我在一台新创建的虚拟机上，需要配置些什么，我记得我当时随便答了一句DNS，然后他问我什么DNS的时候我愣住了，虽然面试官说没关系，但是我还是觉得很尴尬。

在最近接触了一些有关于科学上网的知识后，我开始对网络方面的知识提起了兴趣，因此展开了一系列的学习。首当其冲的就是那个另外难忘的DNS。



#### 什么是DNS

DNS全称是（Domain Name System），如名字所见，他是一个系统，这个系统又和域名与IP地址挂钩。

* 域名：一串英文字符，如www.baidu.com
* IP：一串数字，如：14.119.104.254

DNS系统就像一个电话本，就是将容易记忆的域名转换为计算机理解的IP地址。

DNS功能包括：域名解析、递归查询、缓存、分级结构、域名注册管理。



#### 域名解析

域名解析就是讲客户端发送到DNS服务器的域名，解析为IP地址返回到客户端的过程。域名解析发生在网络通信的初始阶段。

我们可以通过命令行`Ping`命令发送探测包，系统会尝试进行域名解析：

![image-20230824150858896](https://s2.loli.net/2023/08/24/UXbNuxsICkBfdaO.png)



域名解析也分为四个阶段：

![域名解析](https://s2.loli.net/2023/08/24/wprQlJmoRs19O6k.png)


一旦浏览器或应用程序获得了域名的IP地址，它就可以在建立网络连接之前使用该IP地址。

![image-20230824150502909](https://s2.loli.net/2023/08/24/1rjlXwsgk4FUzQa.png)



#### 专属自己的域名

简单了解DNS后，我就开始想入手自己的域名，搭建自己的网站。



##### 购买域名

如果在国内，域名的备案会相对比较严格一点，推荐购买大厂商如阿里、腾讯等

如果可以进行科学上网，那我推荐购买namesilo的域名，有便宜也有贵的，可以自己定制，下面是官网链接。

https://www.namesilo.com/

打开这个网站是不用科学上网的

进入到页面后注册，然后可以在搜索栏输入你想要的域名名字
![image-20230824153414175](https://s2.loli.net/2023/08/24/bzBvhFkiVaHrStu.png)

域名出来有不同的后缀，个人建议就是买一个便宜点的就是了，有效期为一年，支持支付宝付款。

![image-20230824153717566](https://s2.loli.net/2023/08/24/5Q62MPk9Zelf37K.png)

如果需要填写账单信息等，可以用地址生成器填写，需要注意的是，邮箱填的最好是自己的常用邮箱，下面是生成器链接。

https://www.meiguodizhi.com/

支付完成后，就会跳转到域名的管理界面，可以看到我们购买的域名信息，建议收藏保存，以后可能还会用到。

点击图中蓝色的小图标，进入DNS服务器管理![image-20230824155534772](https://s2.loli.net/2023/08/24/xXUi32CsblSd4OI.png)

删除所有的默认解析，因为我们要将域名托管到Cloudflare，让他帮我们管理解析

![image-20230824155523506](https://s2.loli.net/2023/08/24/5SQFUYXdVcWIC3g.png)

删除后返回上一页面，点击类似数据库的图标，进入DNS服务器管理。我们需要更改DNS服务器，默认服务器对于域名的解析速度很慢。

![image-20230824155840783](https://s2.loli.net/2023/08/24/kBDmUl5nAQyO3VR.png)



##### 托管域名

已经了解域名解析的整个简单的流程，所以如果我们的域名服务器如果网络并不好，那么会很影响我们的使用，因此选择好的运营商代理域名很重要。

Cloudflare是一家全球性的互联网安全和性能公司，提供各种服务来帮助网站加速、保护和优化其网络和应用程序，下面是他的官方链接：

https://www.cloudflare.com

注意在访问的时候需要进行科学上网

访问Cloudflare，点击Sign Up注册自己的账号

![image-20230824160642089](https://s2.loli.net/2023/08/24/S4aHTQxvlfyXpYZ.png)

再注册完毕后，点击第一项，填写上刚注册的域名，注意域名的格式，前面没有www。购买完毕后需要一定的时间等待备案。所以可能不会马上成功，等待一会就好了。

![image-20230824160820020](https://s2.loli.net/2023/08/24/QoN7MLWS54HeACu.png)

![image-20230824160831063](https://s2.loli.net/2023/08/24/S5lwaiA4rKIqUvZ.png)

进入选择方案界面，我们直接拖到最下，选择免费的服务。

![image-20230824161022363](https://s2.loli.net/2023/08/24/5hBJ2Kv47WetdPE.png)

点击后系统提醒我们还没有添加记录，点击确认。

![image-20230824161112692](C:/Users/17514/AppData/Roaming/Typora/typora-user-images/image-20230824161112692.png)

确定后会跳转以下页面，指引我们激活。

![image-20230824161215687](https://s2.loli.net/2023/08/24/f9HXgR2qz1v7et5.png)

回到我们刚刚namesilo点击数据库图标进去的页面，根据指引，我们要删除默认内容，填上Cloudflare的服务器。

![image-20230824161843404](https://s2.loli.net/2023/08/24/wlzTNm9URnqY2LP.png)

填写完毕后，点击提交回到Cloudflare界面，点击检查名称服务器。

![image-20230824162145128](https://s2.loli.net/2023/08/24/AToF1XBprVf65hN.png)

跳转到这个洁面后，点击以后完成。

![image-20230824162234356](https://s2.loli.net/2023/08/24/ItwGsBfvWebrADx.png)

左上角的图标回到首页，系统提示我们还没有验证邮箱，因此我们无法收到短信。
![image-20230824162453925](https://s2.loli.net/2023/08/24/qsoBD8kGbTIK7nf.png)

邮箱验证完毕后，接下来就是静静的等待，验证完成后，邮箱会受到一封邮件。



##### 添加DNS记录

在上一步提交验证后，大概10分钟就能验证完成，下面就会显示当前账户下已经验证的域名，我们点击进去，开始添加DNS记录。

![image-20230824162608611](https://s2.loli.net/2023/08/24/TC4MJYk2vfbBnl6.png)

点击左侧的导航栏，点击图上位置，可以开始添加我们的记录，点击添加添加记录。

![image-20230824162856991](https://s2.loli.net/2023/08/24/eVsw6y1duMarfq9.png)

根据图上的操作，就可以添加记录。

![image-20230824163343170](https://s2.loli.net/2023/08/24/GcrueBKRW9JF8z4.png)

添加完成后可以利用Ping工具测试下，一般添加记录很快就会生效，不要等待太久。

![image-20230824163646891](https://s2.loli.net/2023/08/24/Z8FLcKRm7DiAPaB.png)

会发现我们Ping出来的IP地址和目标地址不一样，这是因为开启了Cloudflare的代理模式，开启后能够一定速度的加快我们的访问，不过Cloudflare的服务器都在海外，只能说见仁见智吧。


以上就是关于DNS的学习已经如何购买自己域名的学习，下个文章就是学习`TLS` `证书` `HTTPS`

最后纪念今天是日本将核废水排海的第一天，不知道未来的世界是咋样的咯~